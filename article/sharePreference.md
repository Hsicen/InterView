# 2019.9.1
对于SharedPreferences你觉得有什么优缺点？
> SharedPreferences是一个轻量级的存储类，特别适合用于保存软件配置参数
>
> **优点：**
> - 轻量级，以键值对的方式进行存储，使用方便，易于理解
> - 采用的是XML文件形式存储在本地，程序卸载后也会一并清除，不会残留信息
>
> **缺点：**
>
> - 由于是对文件IO读取，因此在IO上的瓶颈是个大问题，因为每次进行get/commit时都需要将数据从文件读取到内存中或从内存写入到文件中
> - 多线程场景下效率较低，进行get操作时，会锁定SharedPreferences对象，互斥其它操作；当put，commit时，则会锁定Editor对象，使用写入锁进行互斥操作，这种情况下，效率会降低
> - 不支持跨进程通讯
> - 由于每次都会把整个文件加载到内存中，因此，如果SharedPreferences文件过大，或者在其中的键值对是大对象的json数据则会占用大量内存，读取较慢是一方面，同时也会引发程序频繁GC，导致界面卡顿
>
> **建议：**
> - 不要存储较大数据或者较多数据到SharedPreferences中
> - 频繁修改的数据修改后统一提交，而不是修改后马上提交
> - 在跨进程通讯中不去使用SharedPreferences，跨进程推荐使用MMKV
> - 键值对不宜过多
>
